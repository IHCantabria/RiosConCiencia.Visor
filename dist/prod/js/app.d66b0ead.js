(function(e){function t(t){for(var n,s,r=t[0],c=t[1],l=t[2],d=0,p=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,r=1;r<a.length;r++){var c=a[r];0!==i[c]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},i={app:0},o=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"10f8":function(e,t,a){},1965:function(e,t,a){"use strict";a("5fab")},2352:function(e,t,a){"use strict";a("25c1")},"25c1":function(e,t,a){},"2e9c":function(e,t,a){"use strict";a("10f8")},"320c":function(e,t,a){},"331b":function(e,t,a){e.exports={primaryColor:"#1c313a"}},3448:function(e,t,a){},"39d2":function(e,t,a){e.exports=a.p+"img/logout.e8921c12.svg"},"3de0":function(e,t,a){},"3f16":function(e,t,a){"use strict";a("3448")},"3f70":function(e,t,a){e.exports=a.p+"img/RedCambera.fdd1fe46.png"},"416e":function(e,t,a){"use strict";a("8b02")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("a026"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-style grid",attrs:{id:"app"}},[a("viewer",{staticClass:"main"})],1)},o=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-viewer grid"},[a("app-map-viewer",{staticClass:"map"}),a("app-panels"),a("app-fetch-manager"),a("app-reset-state")],1)},r=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.samplesLoaded?n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isPanelVisible,expression:"isPanelVisible"}],staticClass:"app-info"},[n("div",{staticClass:"panel-header"},[n("panel-about",{staticClass:"panel-about"}),e.userLogged?e._e():n("panel-login"),e.userLogged?n("panel-logout"):e._e()],1),n("vs-tabs",[n("vs-tab",{attrs:{icon:"map",label:"Visualización"}},[n("div",{staticClass:"panel-filters"},[n("panel-filters")],1)]),n("vs-tab",{attrs:{icon:"cloud_download",label:"Descarga"}},[e.userLogged?n("div",{staticClass:"panel-download"},[n("panel-filter-download"),n("div",{staticClass:"panel-download__action"},[n("span",{staticClass:"download-text"},[e._v("Descargar datos de las campañas seleccionadas")]),n("div",{staticClass:"download-icon",on:{click:e.launchDownload}},[n("object",{staticStyle:{"pointer-events":"none"},attrs:{data:a("d127"),type:"image/svg+xml"}})])])],1):n("div",[n("span",{staticClass:"download-text"},[e._v("Tienes que estar logueado para tener acceso a la descarga de datos")])])])],1)],1)]):e._e()},l=[],u=a("5530"),d=a("2f62"),p="samples/M_SET_SAMPLES",m="samples/M_SET_PICTS_SAMPLES",f="samples/M_SET_USER",h="samples/M_SET_YEAR_OPTIONS",g="samples/M_SET_CAMPAIGN_OPTIONS",y="samples/M_SET_SAMPLE_CAMPAIGN_FILTER",v="samples/M_SET_SAMPLE_YEAR_FILTER",b="samples/M_SET_SAMPLE_DOWNLOAD_FILTERS",C="samples/M_SET_SAMPLE_DOWNLOAD_OPTIONS",_="samples/A_FETCH_SAMPLES",S="samples/A_FETCH_PICTS_SAMPLES",w="samples/A_FETCH_USER",k="samples/A_SET_SAMPLE_CAMPAIGN_FILTER",O="samples/A_SET_SAMPLE_YEAR_FILTER",M="samples/A_SET_SAMPLE_DOWNLOAD_FILTERS",T="samples/G_GET_IS_FILTER_ALL",E="samples/G_GET_SAMPLES_FILTERED",x="samples/G_GET_FILTERS_IDS",I="samples/G_GET_SAMPLES_FILTERED_DOWNLOAD_IDS",F="samples/G_GET_SAMPLES_PICTS__FILTERED_DOWNLOAD_IDS",D="samples/G_GET_USER_TOKEN",P="samples/G_GET_USER_LOGGED",A="samples/G_GET_SAMPLES_LOADED",j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-about"},[n("div",{staticClass:"toggle-icon",attrs:{title:"Información"},on:{click:e.openModal}},[n("object",{staticStyle:{"pointer-events":"none"},attrs:{data:a("d4b0"),type:"image/svg+xml"}})]),n("vs-popup",{attrs:{"class-content":"popup-about",title:"Información del proyecto",active:e.modalState},on:{"update:active":function(t){e.modalState=t}}},[n("div",{staticClass:"about-container"},[n("div",{staticClass:"about-container__title-logo"},[n("img",{attrs:{src:a("7b13"),title:"Ríos Con Ciencia"}})]),n("label",{staticClass:"label-version"},[n("span",[n("strong",[e._v("Geovisor del proyecto RiosConCiencia")])]),n("span",[n("strong",[e._v("Versión:")]),e._v(" "+e._s(e.version)+" ")])]),n("div",{staticClass:"about-container__msg"},[n("p",{staticClass:"about-container__msg-section"},[e._v(" RíosConCiencia Visor es una herramienta digital que facilita la observación y el análisis de los datos recopilados en campo por parte de personas voluntarias a través de la aplicación móvil RíosConCienciApp en el marco del Proyecto Ríos. ")]),n("p",{staticClass:"about-container__msg-section"},[e._v(" Proyecto Ríos es una iniciativa de voluntariado ambiental que se desarrolla en Cantabria desde el año 2008, capacitando a la ciudadanía en el conocimiento, puesta en valor y mejora de los ecosistemas fluviales. ")]),n("p",{staticClass:"about-container__msg-section"},[e._v(" Este proyecto cuenta con la colaboración de la Fundación Española para la Ciencia y la Tecnología del Ministerio de Ciencia e Innovación. ")]),n("p",{staticClass:"about-container__msg-section"},[n("a",{attrs:{href:"https://redcambera.org/proyectos/riosconciencia/",target:"_blank"}},[e._v("Pulse aquí para más información del proyecto.")])])]),n("div",{staticClass:"about-container__logos"},[n("div",{staticClass:"logo"},[n("div",{staticClass:"claim-container"},[n("span",[e._v("Con la colaboración de:")])]),n("img",{attrs:{src:a("e65d"),title:"Gobierno de España y Fundación Española para la Ciencia y la Tecnología"}})]),n("div",{staticClass:"logo"},[n("div",{staticClass:"claim-container"},[n("span",[e._v("Un proyecto de:")])]),n("img",{attrs:{src:a("3f70"),title:"Red Cambera"}})]),n("div",{staticClass:"logo-without-claim"},[n("img",{attrs:{src:a("8d9a"),title:"Proyecto Ríos"}})])])])])],1)},$=[],R={data:function(){return{version:"0.3.3",modalState:!1}},methods:{openModal:function(){this.modalState=!0}}},q=R,B=(a("7654"),a("2877")),N=Object(B["a"])(q,j,$,!1,null,"1764144c",null),G=N.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-logout"},[n("div",{staticClass:"toggle-icon",attrs:{title:"Desloguear"},on:{click:e.Logout}},[n("object",{staticStyle:{"pointer-events":"none"},attrs:{data:a("39d2"),type:"image/svg+xml"}})])])},z=[],H={methods:{Logout:function(){this.$root.$emit("logout")}}},Q=H,V=(a("c416"),Object(B["a"])(Q,U,z,!1,null,"07c009f3",null)),W=V.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"type-selectors"},[a("type-selector",{staticClass:"type-selectors__selector",attrs:{label:"Selector de Año","width-select":"220px",items:e.yearOptions,"last-active-item":e.yearFilter},on:{change:e.setYearFilter}}),a("type-selector",{staticClass:"type-selectors__selector",attrs:{label:"Selector de Campaña","width-select":"220px",items:e.campaignOptions,"last-active-item":e.campaignFilter},on:{change:e.setCampaignFilter}})],1)},Y=[],J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inner-container"},[e.isEmptyList?a("span",{staticClass:"empty-list"},[e._v("No hay Opciones Disponibles")]):a("vs-select",{attrs:{label:e.label,width:e.widthSelect},model:{value:e.activeItem,callback:function(t){e.activeItem=t},expression:"activeItem"}},e._l(e.items,(function(e,t){return a("vs-select-item",{key:t,staticClass:"selectStyle",attrs:{value:e,text:e.name}})})),1)],1)},K=[],X={props:{items:{type:Array,required:!0},label:{type:String,required:!1,default:function(){return""}},widthSelect:{type:String,required:!1,default:function(){return"400px"}},lastActiveItem:{type:Object,required:!1,default:function(){return null}}},data:function(){return{activeItem:{}}},computed:{isEmptyList:function(){return 0===this.items.length}},watch:{items:{handler:function(){this.selectFirstOption()},immediate:!0},activeItem:{handler:function(){this.activeItem&&this.$emit("change",this.activeItem)},deep:!0}},mounted:function(){this.activeItem=this.lastActiveItem?this.lastActiveItem:null,this.activeItem||this.selectFirstOption()},methods:{selectFirstOption:function(){var e=this;this.$nextTick((function(){e.activeItem||e.items[0]}))}}},ee=X,te=(a("3f16"),Object(B["a"])(ee,J,K,!1,null,"63e1c2b0",null)),ae=te.exports,ne={components:{"type-selector":ae},computed:Object(u["a"])({},Object(d["d"])({campaignFilter:function(e){return e.samples.campaignFilter},yearFilter:function(e){return e.samples.yearFilter},campaignOptions:function(e){return e.samples.campaignOptions},yearOptions:function(e){return e.samples.yearOptions}})),methods:Object(u["a"])(Object(u["a"])({},Object(d["b"])({setSampleCampaignFilter:k,setSampleYearFilter:O})),{},{setCampaignFilter:function(e){this.setSampleCampaignFilter(e)},setYearFilter:function(e){this.setSampleYearFilter(e)}})},ie=ne,oe=(a("9391"),Object(B["a"])(ie,Z,Y,!1,null,"6c2da3d8",null)),se=oe.exports,re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"type-selectors"},[a("type-selector-multiple",{staticClass:"type-selectors__selector",attrs:{"width-select":"220px",items:e.downloadOptions,"last-active-items":e.downloadFilters},on:{change:e.setDownloadFilters}})],1)},ce=[],le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"inner-container"},[e.isEmptyList?a("span",{staticClass:"empty-list"},[e._v("No hay Opciones Disponibles")]):a("vs-select",{attrs:{label:e.label,placeholder:"Seleccione campañas",multiple:"",width:e.widthSelect},model:{value:e.activeItems,callback:function(t){e.activeItems=t},expression:"activeItems"}},e._l(e.items,(function(e,t){return a("vs-select-item",{key:t,staticClass:"selectStyle",attrs:{value:e,text:e.name}})})),1)],1)},ue=[],de=(a("c740"),a("a434"),{props:{items:{type:Array,required:!0},label:{type:String,required:!1,default:function(){return""}},widthSelect:{type:String,required:!1,default:function(){return"400px"}},lastActiveItems:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{activeItems:[]}},computed:{isEmptyList:function(){return 0===this.items.length}},watch:{items:{handler:function(){this.init()},immediate:!0},activeItems:{handler:function(e){var t=this.activeItems.findIndex((function(e){return 0==e.id}));-1==t||1==e.length?this.$emit("change",this.activeItems):e.length==t+1?this.activeItems=[this.activeItems[t]]:this.activeItems.splice(t,1)},deep:!0}},mounted:function(){this.init()},methods:{init:function(){this.activeItems=this.lastActiveItems.length?this.lastActiveItems:[]}}}),pe=de,me=(a("ccf2"),Object(B["a"])(pe,le,ue,!1,null,"02ec5ed6",null)),fe=me.exports,he={components:{"type-selector-multiple":fe},computed:Object(u["a"])({},Object(d["d"])({downloadFilters:function(e){return e.samples.downloadFilters},downloadOptions:function(e){return e.samples.downloadOptions}})),methods:Object(u["a"])(Object(u["a"])({},Object(d["b"])({setSampleDownloadFilters:M})),{},{setDownloadFilters:function(e){this.setSampleDownloadFilters(e)}})},ge=he,ye=(a("1965"),Object(B["a"])(ge,re,ce,!1,null,"89522210",null)),ve=ye.exports,be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-login"},[n("div",{staticClass:"login-icon",attrs:{title:"Login de usuario"},on:{click:e.openModal}},[n("object",{staticStyle:{"pointer-events":"none"},attrs:{data:a("dd3a"),type:"image/svg+xml"}})]),n("vs-popup",{attrs:{"class-content":"popup-login",title:"Login a la descarga de datos",active:e.modalState},on:{"update:active":function(t){e.modalState=t}}},[n("div",{staticClass:"login-container"},[n("div",{staticClass:"login-container__inputs"},[n("vs-input",{staticClass:"item-login",attrs:{type:"text",label:"Usuario de la aplicación",icon:"account_circle",placeholder:"email"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("vs-input",{staticClass:"item-login",attrs:{type:"password",label:"Contraseña de usuario",icon:"lock",placeholder:"contraseña"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("vs-button",{staticClass:"item-login item-login-buttom",attrs:{color:"primary",type:"filled"},on:{click:e.callLogin}},[e._v("Login")])],1)])],1)},Ce=[],_e={data:function(){return{email:null,password:null,modalState:!1}},methods:{openModal:function(){this.modalState=!0},callLogin:function(){this.modalState=!1;var e={email:this.email,password:this.password};this.$root.$emit("callLogin",e)}}},Se=_e,Le=(a("9e35"),Object(B["a"])(Se,be,Ce,!1,null,"0ec0556e",null)),we=Le.exports,ke={components:{"panel-about":G,"panel-logout":W,"panel-login":we,"panel-filters":se,"panel-filter-download":ve},data:function(){return{panelShow:!0}},computed:Object(u["a"])(Object(u["a"])({},Object(d["c"])({userLogged:[P],samplesLoaded:[A]})),{},{isPanelVisible:function(){return!(!this.samplesLoaded||!this.panelShow)}}),mounted:function(){this.init()},methods:{init:function(){this.setActionListeners()},setActionListeners:function(){var e=this;this.$root.$on("toggleFilterPanel",(function(){e.panelShow=!e.panelShow}))},launchDownload:function(){this.$root.$emit("callDownload")}}},Oe=ke,Me=(a("7762"),Object(B["a"])(Oe,c,l,!1,null,"44928792",null)),Te=Me.exports,Ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-map-viewer"},[a("l-map",{attrs:{"c-center":e.mapConfigComputed.centerConfig,"c-map-default":e.mapConfigComputed.mapDefaultConfig,"c-base-layers":e.mapConfigComputed.baseLayersConfig,"c-switch-layer-base-maps":e.mapConfigComputed.switchBaseMapsConfig,"c-overlay-layers":e.mapConfigComputed.overlayLayersConfig,"c-switch-layer-overlay-maps":e.mapConfigComputed.switchOverlayMapsConfig,"c-markers":e.markers},on:{"toggle-panel":e.togglePanel}})],1)},xe=[],Ie=a("2909"),Fe=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},De=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"l-map"},[a("div",{staticClass:"l-map__view",attrs:{id:"mapid"}})])}],Pe=(a("4de4"),a("7db0"),a("4160"),a("caad"),a("d81d"),a("b0c0"),a("2532"),a("159b"),a("96cf"),a("1da1")),Ae=a("e11e"),je=a.n(Ae),$e=(a("f0cb"),a("983d"),a("9ef7"),a("99af"),a("a15b"),{type:"marker"}),Re=[{id:"waterQualityID",icon:"Water"},{id:"forestQualityID",icon:"Forest"},{id:"ecologicalStateID",icon:"Ecological"}],qe=[{id:"waterQualityID",key:"bioQualityColor"},{id:"forestQualityID",key:"forestStateColor"},{id:"ecologicalStateID",key:"ecologicalStateColor"}],Be=[{id:0,color:"black",name:"No hay Datos",colorCode:"#231f20"},{id:1,color:"cyan",name:"Muy Buena",colorCode:"#1d92d4"},{id:2,color:"green-light",name:"Buena",colorCode:"#4a9a29"},{id:3,color:"yellow",name:"Moderada",colorCode:"#f3ac23"},{id:4,color:"orange",name:"Deficiente",colorCode:"#ea7817"},{id:5,color:"orange-dark",name:"Mala",colorCode:"#d63922"},{id:6,color:"blue-dark",name:"No Calculable",colorCode:"#185769"}],Ne=[{id:1,name:"Primavera"},{id:2,name:"Otoño"}],Ge=[{id:0,color:"black",name:"No hay Datos",colorCode:"#231f20"},{id:1,color:"green",name:"Alta, bien conservado",colorCode:"#00842d"},{id:2,color:"yellow",name:"Media, alteración importante",colorCode:"#f3ac23"},{id:3,color:"orange-dark",name:"Muy degradado",colorCode:"#d63922"},{id:4,color:"blue-dark",name:"No Calculable",colorCode:"#185769"}],Ue=[{id:0,color:"black",name:"No hay Datos",colorCode:"#231f20"},{id:1,color:"cyan",name:"Muy Bueno",colorCode:"#1d92d4"},{id:2,color:"green-light",name:"Bueno",colorCode:"#4a9a29"},{id:3,color:"yellow",name:"Moderado",colorCode:"#f3ac23"},{id:4,color:"orange",name:"Deficiente",colorCode:"#ea7817"},{id:5,color:"orange-dark",name:"Malo",colorCode:"#d63922"},{id:6,color:"blue-dark",name:"No Calculable",colorCode:"#185769"}],ze=function(){delete L.Icon.Default.prototype._getIconUrl,L.Icon.Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")})},He=function(e){var t=[e.getLatLng()];return L.latLngBounds(t)},Qe=function(e){var t=Re.find((function(t){return t.id==e})).icon;return t},Ve=function(e){var t=qe.find((function(t){return t.id==e})).key;return t},We=function(e,t){return L.ExtraMarkers.icon({markerColor:"".concat(t),innerHTML:"<i class='icon-sensors icon-sensors__".concat(e,"'></i>")})},Ze=function(e){return'<table>\n    <tbody>\n      <tr>\n        <th scope="row">Nombre del tramo</th>\n        <td>'.concat(e.alias,'</td>\n      </tr>\n        <th scope="row">Cuenca</th>\n        <td>').concat(e.catchment,'</td>\n      </tr>\n      <tr>\n        <th scope="row">Municipio</th>\n        <td>').concat(e.municipality,'</td>\n      </tr>\n      <tr>\n        <th scope="row">Año y campaña de muestreo</th>\n        <td>').concat(e.year," - ").concat(e.campaign,'</td>\n      </tr>\n      <tr>\n        <th scope="row">Calidad biológica del agua</th>\n        <td>').concat(e.bioQuality,'</td>\n      </tr>\n      <tr>\n        <th scope="row">Calidad del bosque de ribera</th>\n        <td>').concat(e.forestState,'</td>\n      </tr>\n      <tr>\n        <th scope="row">Estado ecológico</th>\n        <td>').concat(e.ecologicalState,"</td>\n      </tr>\n    </tbody>\n  </table>")},Ye=function(e,t){var a,n=['<strong class="title-legend">'.concat(e,"</strong>")];return t.forEach((function(e){a+=n.push('<span class="item-legend"><i class="circle-dot" style="background-color: '.concat(e.colorCode,'"></i> ').concat(e.name,"</span>"))})),a=n.join(""),a},Je=function(e){var t=L.DomUtil.create("div","leaflet-control-layers leaflet-control custom-legend");return t.innerHTML=e,t};ze();var Ke,Xe,et,tt,at,nt={props:{cCenter:{type:Object,required:!0},cBaseLayers:{type:Array,required:!1,default:function(){return[{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",configParameters:{id:"defaultMapID",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}}]}},cMapDefault:{type:Object,required:!1,default:function(){return{center:[0,0],zoom:3,layers:["defaultMapID"]}}},cSwitchLayerBaseMaps:{type:Array,required:!1,default:function(){return[]}},cOverlayLayers:{type:Array,required:!1,default:function(){return[]}},cSwitchLayerOverlayMaps:{type:Array,required:!1,default:function(){return[]}},cMarkers:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{myMap:null,layersMap:[],layerMarkers:[],currentLegend:null,originalCoordsMark:null,showLegend:!0}},watch:{cMarkers:{handler:function(){this.updateLayerMarker()},deep:!0},showLegend:{handler:function(){this.toggleLegend()}}},mounted:function(){var e=this;this.$nextTick((function(){e.initMap()}))},methods:{initMap:function(){var e=this;return Object(Pe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loadMap();case 1:case"end":return t.stop()}}),t)})))()},loadMap:function(){var e=this;this.loadTileLayers();var t=this.layersMap.filter((function(t){return e.cMapDefault.layers.includes(t.options.id)}));this.setMap(t),this.setOriginalPosition(),this.setupSwitcherLayer(),this.setupZoomControl(),this.addToggleControlControl(),this.setupLegend(),this.setupListeners()},loadTileLayers:function(){var e=[];this.cBaseLayers.forEach((function(t){var a=je.a.tileLayer(t.url,t.configParameters);e.push(a)})),this.layersMap=e},setMap:function(e){var t=this.setMapBounds();this.myMap=je.a.map("mapid",{center:this.cMapDefault.center,zoom:this.cMapDefault.zoom,minZoom:this.cMapDefault.minZoom,zoomControl:!1,layers:e,maxBounds:t,maxBoundsViscosity:1,worldCopyJump:!0}).setView([this.cCenter.lat,this.cCenter.lon],this.cCenter.zoom)},setMapBounds:function(){return je.a.latLngBounds(je.a.latLng(-90,-1/0),je.a.latLng(90,1/0))},addToggleControlControl:function(){var e=this;je.a.easyButton({states:[{stateName:"toogleLegend",icon:"fa-map",title:"Haz click aquí para mostrar/ocultar la leyenda del mapa",onClick:function(){e.myMap.fire("toogleLegend")}}]}).addTo(this.myMap),je.a.easyButton({states:[{stateName:"toogleFilter",icon:"fa-sliders-h",title:"Haz click aquí para mostrar/ocultar el panel inferior",onClick:function(){e.myMap.fire("toogleFilter")}}]}).addTo(this.myMap),je.a.easyButton({states:[{stateName:"toogleFilter",icon:"fa-home",title:"Haz click aquí para volver a la posición original del mapa",onClick:function(){e.myMap.fire("goToDefault")}}]}).addTo(this.myMap)},moveAndZoomToOriginalPosition:function(){this.myMap.fitBounds(He(this.originalCoordsMark),{maxZoom:this.cMapDefault.zoom})},setOriginalPosition:function(){this.originalCoordsMark=je.a.marker({lon:this.cCenter.lon,lat:this.cCenter.lat})},setupSwitcherLayer:function(){if(this.cSwitchLayerBaseMaps.length>0){var e=this.createSwitchBaseLayers(),t=this.createSwitchOverlayLayers(),a={exclusiveGroups:["Filtros"],groupCheckboxes:!0,position:"topleft"};je.a.control.groupedLayers(e,t,a).addTo(this.myMap)}},setupZoomControl:function(){je.a.control.zoom({position:"topleft"}).addTo(this.myMap)},setupLegend:function(){this.createLegend(this.layerMarkers[2].options.legend)},createSwitchBaseLayers:function(){var e=this,t={};return this.cSwitchLayerBaseMaps.forEach((function(a){var n=e.layersMap.find((function(e){return e.options.id==a.idLayer}));t[a.displayLayerName]=n})),t},createSwitchOverlayLayers:function(){var e=this,t={},a={};return this.cOverlayLayers.forEach((function(t){var n=new je.a.LayerGroup([],t.configParameters);a[t.name]=n,e.layerMarkers.push(n)})),t["Filtros"]=a,this.layerMarkers[2].addTo(this.myMap),t},updateLayerMarker:function(){this.clearLayerMarkers(),this.cMarkers.length>0&&this.addNewLayerMarkers()},addNewLayerMarkers:function(){var e=this;this.layerMarkers.forEach((function(t){e.createLayerMarkers(t)}))},createLayerMarkers:function(e){var t=this;this.cMarkers.forEach((function(a){t.createLayerMarker(a,e)}))},createLayerMarker:function(e,t){var a=Qe(t.options.id),n=Ve(t.options.id),i=e[n],o=je.a.marker({lon:e.longitude,lat:e.latitude},{icon:We(a,i)}),s=Ze(e);o.layerID=e.id,o.type=e.type,o.bindPopup(s),t.addLayer(o)},clearLayerMarkers:function(){this.layerMarkers.forEach((function(e){var t=e.getLayers();t.forEach((function(t){e.removeLayer(t)}))}))},setupListeners:function(){this.ListenerToggleLegend(),this.ListenerOpenPopUp(),this.ListenerToggleFilters(),this.ListenerGoToDefault(),this.ListenerLegendChange()},ListenerToggleLegend:function(){var e=this;this.myMap.on("toogleLegend",(function(){e.showLegend=!e.showLegend}))},ListenerOpenPopUp:function(){var e=this;this.myMap.on("popupopen",(function(){window.innerWidth<750&&(e.showLegend=!1)}))},ListenerToggleFilters:function(){var e=this;this.myMap.on("toogleFilter",(function(){e.$emit("toggle-panel")}))},ListenerGoToDefault:function(){var e=this;this.myMap.on("goToDefault",(function(){e.moveAndZoomToOriginalPosition()}))},ListenerLegendChange:function(){var e=this;this.myMap.on("overlayadd",(function(t){e.myMap.removeControl(e.currentLegend),e.createLegend(t.layer.options.legend)}))},createLegend:function(e){var t=this,a=je.a.control({position:"topright"});a.onAdd=function(){var a=Je(e);return t.showLegend?a.style.display="flex":a.style.display="none",a},this.currentLegend=a,a.addTo(this.myMap)},toggleLegend:function(){var e=document.getElementsByClassName("custom-legend")[0];this.showLegend?e.style.display="flex":e.style.display="none"}}},it=nt,ot=(a("9641"),a("b722"),a("6b66"),a("2352"),Object(B["a"])(it,Fe,De,!1,null,"a6a2bcae",null)),st=ot.exports,rt={name:"Mapa Satelite",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",configParameters:{id:"MapSateliteID",attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",minZoom:3}},ct={name:"Mapa Geográfico",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",configParameters:{id:"geographicID",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:16,minZoom:3}},lt={name:"Calidad del agua",configParameters:{id:"waterQualityID",legend:Ye("Calidad del agua",Be)}},ut={name:"Estado del bosque",configParameters:{id:"forestQualityID",legend:Ye("Estado del bosque",Ge)}},dt={name:"Estado ecológico",configParameters:{id:"ecologicalStateID",legend:Ye("Estado ecológico",Ue)}},pt={lat:43.2,lon:-3.9,zoom:10,minZoom:3},mt={center:[pt.lat,pt.lon],zoom:pt.zoom,layers:[ct.configParameters.id]},ft=[ct,rt],ht=[{displayLayerName:ct.name,idLayer:ct.configParameters.id},{displayLayerName:rt.name,idLayer:rt.configParameters.id}],gt=[lt,ut,dt],yt=[{displayLayerName:lt.name,idLayer:lt.configParameters.id},{displayLayerName:ut.name,idLayer:ut.configParameters.id},{displayLayerName:dt.name,idLayer:dt.configParameters.id}],vt={centerDefault:pt,mapDefaultConfig:mt,baseLayersConfig:ft,switchBaseMapsConfig:ht,overlayLayersConfig:gt,switchOverlayMapsConfig:yt},bt={components:{"l-map":st},data:function(){return{leafletConfig:vt}},computed:Object(u["a"])(Object(u["a"])({},Object(d["c"])({samples:[E]})),{},{markers:function(){return Object(Ie["a"])(this.samples)},mapConfigComputed:function(){return{centerConfig:this.leafletConfig.centerDefault,baseLayersConfig:this.leafletConfig.baseLayersConfig,mapDefaultConfig:this.leafletConfig.mapDefaultConfig,switchBaseMapsConfig:this.leafletConfig.switchBaseMapsConfig,overlayLayersConfig:this.leafletConfig.overlayLayersConfig,switchOverlayMapsConfig:this.leafletConfig.switchOverlayMapsConfig}}}),methods:{togglePanel:function(){this.$root.$emit("toggleFilterPanel")}}},Ct=bt,_t=Object(B["a"])(Ct,Ee,xe,!1,null,null,null),St=_t.exports,Lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-fetch-manager"},[e.requestComputed?a("async-loader",{attrs:{url:e.request.url,params:e.request.params?e.request.params:{},method:e.request.method?e.request.method:"get",body:e.request.body?e.request.body:{}},on:{requestFinished:e.requestsController,stateRequest:e.pendingState,errorHandler:e.errorHandler}}):e._e(),e.operationComputed&&e.dataReady?a("data-operator",{attrs:{data:e.data?e.data:null,"process-logic":e.operation.processLogic?e.operation.processLogic:null,dispatcher:e.operation.dispatcher?e.operation.dispatcher:null,"additional-info":e.operation.additionalInfo?e.operation.additionalInfo:null},on:{dataProcessed:e.operationsFinishedEvent,errorOperationHandler:e.errorOperationHandler,operationFinished:e.operationsController}}):e._e()],1)},wt=[],kt=(a("a4d3"),a("e01a"),a("c975"),function(e){var t,a=Be.findIndex((function(t){return t.id==e}));return t=-1==a?Be[0].color:Be[a].color,t}),Ot=function(e){var t,a=Ge.findIndex((function(t){return t.id==e}));return t=-1==a?Ge[0].color:Ge[a].color,t},Mt=function(e){var t,a=Ue.findIndex((function(t){return t.id==e}));return t=-1==a?Ue[0].color:Ue[a].color,t},Tt=function(e){var t,a=Ne.findIndex((function(t){return t.name==e}));return t=-1==a?0:Ne[a].id,t},Et=function(e,t){var a=[];return a.push({id:0,name:"Todas las campañas"}),e.forEach((function(e){t.forEach((function(t){var n=parseInt("".concat(e.name).concat(t.id));a.push({id:n,name:"".concat(e.name," - ").concat(t.name)})}))})),a},xt=function(e){for(var t=e.map((function(e){return e.year})).filter((function(e,t,a){return a.indexOf(e)===t})),a=t.sort((function(e,t){return t-e})),n=[],i=0;i<a.length;i++)n.push({id:i+1,name:a[i]});return n},It=function(e,t,a){var n=e.filter((function(e){return e.year==t.name&&e.campaign==a[1].name}));return n.length>0?a[1]:a[0]},Ft={methods:{formatSamples:function(e){return e.map((function(e){return{bioQuality:e.bioQualityName,ecologicalState:e.ecologicalStateName,forestState:e.riverBankQrisiName,alias:e.riverSectionAlias,municipality:e.riverSectionMunicipality,catchment:e.riverCatchment,id:e.id,idBioQuality:e.idBioQuality,bioQualityColor:kt(e.idBioQuality),idForestState:e.idRiverBankQrisi,forestStateColor:Ot(e.idRiverBankQrisi),idEcologicalState:e.idEcologicalState,ecologicalStateColor:Mt(e.idEcologicalState),campaign:e.campaign,year:e.year,type:$e.type,idCampaign:Tt(e.campaign),longitude:e.riverSectionCoordsLon,latitude:e.riverSectionCoordsLat,idFilter:parseInt("".concat(e.year).concat(Tt(e.campaign)))}}))},formatPictsSamples:function(e){return e.map((function(e){return{id:e.id,campaign:e.campaign,year:e.year,idCampaign:Tt(e.campaign),idFilter:parseInt("".concat(e.year).concat(Tt(e.campaign)))}}))},checkRole:function(e){var t=[1,6,7,8,9],a=t.includes(parseInt(e.roleId));return a?e:null}}},Dt={methods:{$_showNotificationRepeat:function(e,t){this.$vs.notify({title:"Error en la operación de ".concat(e),text:"Haga click para reintentar",color:"danger",fixed:!0,click:t})},$_showNotificationOnce:function(e,t){this.$vs.notify({title:"Error en la operación de ".concat(e),text:"".concat(t),color:"danger"})}}},Pt={props:{data:{type:[Array,Object],default:function(){return null},required:!1},processLogic:{type:Function,default:function(){return null},required:!1},dispatcher:{type:String,default:function(){return null},required:!1},additionalInfo:{type:Object,default:function(){return null},required:!1}},watch:{data:{handler:function(){this.init()},deep:!0},processLogic:{handler:function(){this.init()},deep:!0},dispatcher:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){this.data?this.prepareData():this.callDispatcher()},prepareData:function(){var e=this.Operate();null!=e?this.dispatcher?this.$store.dispatch(this.dispatcher,e):this.$emit("dataProcessed",e):this.$emit("errorOperationHandler",!0),this.$emit("operationFinished")},Operate:function(){return this.additionalInfo&&this.processLogic?this.processLogic(this.data,this.additionalInfo):this.processLogic?this.processLogic(this.data):this.data},callDispatcher:function(){this.$store.dispatch(this.dispatcher),this.$emit("operationFinished")}},render:function(){return null}},At=(a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("bc3a")),jt=a.n(At),$t={props:{url:{type:String,default:function(){return""},required:!0},params:{type:Object,required:!1,default:function(){return{}}},method:{type:String,required:!0,default:function(){return"get"}},body:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{pending:!1,error:!1,data:null}},watch:{url:function(){this.init()},params:{handler:function(){!this.pending&&this.init()},deep:!0},pending:{handler:function(e){this.$emit("stateRequest",e)}}},mounted:function(){this.init()},methods:{init:function(){this.setDefaultValues(),this.requestData()},requestData:function(){var e=this;return Object(Pe["a"])(regeneratorRuntime.mark((function t(){var a,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.pending=!0,t.prev=1,"postFile"!=e.method&&"getFile"!=e.method){t.next=7;break}return t.next=5,e.requestFile();case 5:t.next=20;break;case 7:if("get"!=e.method){t.next=15;break}return t.next=10,jt.a.get(e.url,{headers:e.params});case 10:a=t.sent,n=a.data,e.data=n,t.next=20;break;case 15:return t.next=17,jt.a.post(e.url,e.body,{headers:e.params});case 17:i=t.sent,o=i.data,e.data=o;case 20:e.error=!1,t.next=27;break;case 23:t.prev=23,t.t0=t["catch"](1),e.data=null,e.error=t.t0;case 27:return t.prev=27,e.pending=!1,e.$nextTick((function(){e.$emit("errorHandler",e.error),e.$emit("requestFinished",e.data)})),t.finish(27);case 31:case"end":return t.stop()}}),t,null,[[1,23,27,31]])})))()},requestFile:function(){var e=this;return Object(Pe["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("postFile"!=e.method){t.next=5;break}return t.next=3,jt.a.post(e.url,e.body,{responseType:"arraybuffer",headers:e.params}).then((function(e){var t=new Blob([e.data],{type:"application/zip"}),a=window.URL.createObjectURL(t),n=document.createElement("a");return n.href=a,n.setAttribute("download","Muestras.zip"),document.body.appendChild(n),n.click(),n.remove(),window.URL.revokeObjectURL(a),!0}));case 3:t.next=7;break;case 5:return t.next=7,jt.a.get(e.url,{responseType:"arraybuffer",headers:e.params}).then((function(e){var t=new Blob([e.data],{type:"application/zip"}),a=window.URL.createObjectURL(t),n=document.createElement("a");return n.href=a,n.setAttribute("download","Muestras.zip"),document.body.appendChild(n),n.click(),n.remove(),window.URL.revokeObjectURL(a),!0}));case 7:e.data=[];case 8:case"end":return t.stop()}}),t)})))()},setDefaultValues:function(){this.error=!1,this.data=null}},render:function(){return null}},Rt={public:"https://apiriosconciencia.ihcantabria.com/v1/public",private:"https://apiriosconciencia.ihcantabria.com/v1/private"},qt={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, PUT, POST, DELETE, OPTIONS"},Bt=function(){var e="".concat(Rt.public,"/RiosConCiencia/GetSamplesExtended");return{url:e,params:qt,method:"get",body:{}}},Nt=function(){var e="".concat(Rt.public,"/RiosConCiencia/GetPictSamples");return{url:e,params:qt,method:"get",body:{}}},Gt=function(e,t){var a="".concat(Rt.public,"/RiosConCiencia/ExportSamples/cambera");qt.Authorization="Bearer ".concat(e);var n={samplesId:t.samplesId,samplesPictsId:t.samplesPictsId};return{url:a,params:qt,method:"postFile",body:n}},Ut=function(e){var t="".concat(Rt.public,"/RiosConCiencia/ExportSamplesAll/cambera");return qt.Authorization="Bearer ".concat(e),{url:t,params:qt,method:"getFile",body:{}}},zt=function(e){var t="".concat(Rt.public,"/RiosConCiencia/Authenticate"),a={email:e.email,password:e.password};return{url:t,params:qt,method:"post",body:a}},Ht={components:{"async-loader":$t,"data-operator":Pt},mixins:[Ft,Dt],data:function(){return{request:null,operation:null,dataReady:!1,requestState:!1,data:null,pendingTasks:[],currentSpinnerTask:null}},computed:Object(u["a"])(Object(u["a"])({},Object(d["c"])({samplesIds:[I],samplesPictsIds:[F],token:[D],isFilterAll:[T]})),{},{requestComputed:function(){return this.request},requestStateComputed:function(){return this.requestState},operationComputed:function(){return this.operation}}),watch:{pendingTasks:{handler:function(){this.manageTasks()}}},mounted:function(){this.init()},methods:{init:function(){this.setActionListeners(),this.fetchSamplesData(),this.fetchPictsSamplesData()},setActionListeners:function(){var e=this;this.$root.$on("callDownload",(function(){e.fetchCsvData()})),this.$root.$on("callLogin",(function(t){e.authenticate(t)}))},requestsController:function(e){this.data=e,this.dataReady=!0},pendingState:function(e){this.requestState=e},errorHandler:function(e){if(e){var t=this.logicMessageError(e);this.$_showNotificationOnce("".concat(this.currentSpinnerTask.id),"".concat(t))}},errorOperationHandler:function(e){if(e){var t="Tu usuario no tiene permisos para acceder a la descarga de datos.";this.$_showNotificationOnce("".concat(this.currentSpinnerTask.id),"".concat(t))}},logicMessageError:function(e){return e.response.data.messages},operationsFinishedEvent:function(){},operationsController:function(){this.dataReady=!1,this.request=null,this.data=null,this.updateSpinnerTask(this.currentSpinnerTask),this.currentSpinnerTask=null,this.pendingTasks.shift()},manageSpinnerState:function(e){1==e?this.$spinner.show():this.$spinner.hide()},manageTasks:function(){if(this.pendingTasks.length>0){var e=this.pendingTasks[0];this.request=e.request,this.operation=e.operation,this.currentSpinnerTask=e.spinnerTask,this.dataReady=!!this.operation.dataless}else this.dataReady=!0,this.request=null,this.operation=null},fetchSamplesData:function(){this.createTask(Bt(),this.formatSamples,_,this.createSpinnerTask("Datos de Muestreo","Recopilando datos de muestras. Por favor, espere..."))},fetchPictsSamplesData:function(){this.createTask(Nt(),this.formatPictsSamples,S,this.createSpinnerTask("Datos de Muestreo Pictos","Recopilando datos de muestras de pictos. Por favor, espere..."))},authenticate:function(e){this.createTask(zt(e),this.checkRole,w,this.createSpinnerTask("Validando Usuario","Validando credenciales de acceso. Por favor, espere..."))},fetchCsvData:function(){this.isFilterAll?this.fetchCsvAllData():this.fetchCsvFilterData()},fetchCsvAllData:function(){this.createTask(Ut(this.token),null,null,this.createSpinnerTask("Descargando Datos","Descargando archivos de muestras. Por favor, espere..."))},fetchCsvFilterData:function(){var e={samplesId:this.samplesIds,samplesPictsId:this.samplesPictsIds};this.createTask(Gt(this.token,e),null,null,this.createSpinnerTask("Descargando Datos Filtrados","Descargando archivos de muestras filtrados. Por favor, espere..."))},createTask:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=e,r={processLogic:t,dispatcher:a,dataless:i,additionalInfo:o};this.pendingTasks.push({request:s,operation:r,spinnerTask:n}),this.addSpinnerTask(n)},createSpinnerTask:function(e,t){return{id:e,description:t}},addSpinnerTask:function(e){e&&this.$spinner.addTask(e.id,e.description),this.manageSpinnerState(!0)},updateSpinnerTask:function(e){e&&this.$spinner.updateTask(e.id,this.$spinnerEnums.statusTask.completed),this.manageSpinnerState(!1)}}},Qt=Ht,Vt=Object(B["a"])(Qt,Lt,wt,!1,null,null,null),Wt=Vt.exports,Zt={mounted:function(){var e=this;this.$nextTick((function(){e.init()}))},methods:Object(u["a"])(Object(u["a"])({},Object(d["b"])({setActiveUser:w})),{},{init:function(){var e=this;this.$root.$on("logout",(function(){e.logout()}))},logout:function(){this.setActiveUser(null)}}),render:function(){return null}},Yt=Zt,Jt=Object(B["a"])(Yt,Ke,Xe,!1,null,null,null),Kt=Jt.exports,Xt={components:{AppMapViewer:St,AppPanels:Te,AppFetchManager:Wt,AppResetState:Kt}},ea=Xt,ta=(a("afb7"),a("416e"),Object(B["a"])(ea,s,r,!1,null,"01569632",null)),aa=ta.exports,na={components:{Viewer:aa},mounted:function(){this.init()},methods:{init:function(){this.$spinner.configureModeSpinner(this.$spinnerEnums.ModesSpinner.progress)}}},ia=na,oa=Object(B["a"])(ia,i,o,!1,null,null,null),sa=oa.exports,ra=a("ade3"),ca={samples:null,samplesPicts:null,yearOptions:[],yearFilter:{},campaignOptions:[],campaignFilter:{},downloadOptions:[],downloadFilters:[],user:null},la=(et={},Object(ra["a"])(et,p,(function(e,t){e.samples=t.samples})),Object(ra["a"])(et,m,(function(e,t){e.samplesPicts=t.samplesPicts})),Object(ra["a"])(et,f,(function(e,t){e.user=t.user})),Object(ra["a"])(et,h,(function(e,t){e.yearOptions=t.yearOptions})),Object(ra["a"])(et,g,(function(e,t){e.campaignOptions=t.campaignOptions})),Object(ra["a"])(et,C,(function(e,t){e.downloadOptions=t.downloadOptions})),Object(ra["a"])(et,y,(function(e,t){e.campaignFilter=t.campaignFilter})),Object(ra["a"])(et,v,(function(e,t){e.yearFilter=t.yearFilter})),Object(ra["a"])(et,b,(function(e,t){e.downloadFilters=t.downloadFilters})),et),ua=(tt={},Object(ra["a"])(tt,_,(function(e,t){var a=e.commit;a(p,{samples:t});var n=xt(t),i=It(t,n[0],Ne);a(h,{yearOptions:n}),a(v,{yearFilter:n[0]}),a(g,{campaignOptions:Ne}),a(y,{campaignFilter:i});var o=Et(n,Ne);a(C,{downloadOptions:o}),a(b,{downloadFilters:[o[0]]})})),Object(ra["a"])(tt,S,(function(e,t){var a=e.commit;a(m,{samplesPicts:t})})),Object(ra["a"])(tt,w,(function(e,t){var a=e.commit;a(f,{user:t})})),Object(ra["a"])(tt,k,(function(e,t){var a=e.commit;a(y,{campaignFilter:t})})),Object(ra["a"])(tt,O,(function(e,t){var a=e.commit;a(v,{yearFilter:t})})),Object(ra["a"])(tt,M,(function(e,t){var a=e.commit;a(b,{downloadFilters:t})})),tt),da=(at={},Object(ra["a"])(at,E,(function(e){return e.samples?e.samples.filter((function(t){return t.year==e.yearFilter.name&&t.idCampaign==e.campaignFilter.id})):[]})),Object(ra["a"])(at,I,(function(e,t){return e.samples?!e.downloadFilters.length||1==e.downloadFilters.length&&0==e.downloadFilters[0].id?e.samples.map((function(e){return e.id})):e.samples.filter((function(e){return t[x].includes(e.idFilter)})).map((function(e){return e.id})):[]})),Object(ra["a"])(at,F,(function(e,t){return e.samplesPicts?!e.downloadFilters.length||1==e.downloadFilters.length&&0==e.downloadFilters[0].id?e.samplesPicts.map((function(e){return e.id})):e.samplesPicts.filter((function(e){return t[x].includes(e.idFilter)})).map((function(e){return e.id})):[]})),Object(ra["a"])(at,x,(function(e){return e.downloadFilters.length?e.downloadFilters.map((function(e){return e.id})):[]})),Object(ra["a"])(at,T,(function(e){return 0==e.downloadFilters[0].id})),Object(ra["a"])(at,D,(function(e){return e.user?e.user.token:""})),Object(ra["a"])(at,P,(function(e){return!!e.user})),Object(ra["a"])(at,A,(function(e){return!!e.samples})),at),pa={state:ca,mutations:la,actions:ua,getters:da};n["default"].use(d["a"]);var ma=new d["a"].Store({modules:{samples:pa}}),fa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sweet-modal",{ref:"loader",staticClass:"app-style",attrs:{title:e.mlTitle,blocking:e.mlBlocking,"hide-close-button":e.mlHideCloseButton,"pulse-on-block":e.mlPulseOnBlock,icon:e.mlIcon,width:e.mlWidth,"enable-mobile-fullscreen":e.mlEnableMobileFullscreen,"overlay-theme":e.mlOverlayTheme,"modal-theme":e.mlModalTheme}},[a("div",{staticClass:"loading-panel"},[a("div",{staticClass:"loading-icon"},[a("circle-loader",{attrs:{loading:e.mlActive,color:e.mlSpinnerColor}})],1),a("div",{staticClass:"loading-text"},[e._v(e._s(e.mlDisplayText))]),3==e.mlMode?a("div",{staticClass:"loading-table"},[a("vs-table",{attrs:{data:e.mlTasksConfig,"no-data-text":"","max-items":"2"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.data;return e._l(n.tasks,(function(t,i){return a("vs-tr",{key:i},[a("vs-td",{staticClass:"loading-table__task",attrs:{data:n.tasks[i].text}},[e._v(e._s(n.tasks[i].text))]),n.loadingBar?a("vs-td",{staticClass:"loading-table__progress"},[n.tasks[i].completed?n.tasks[i].success?a("vs-progress",{attrs:{percent:100,color:"success"}}):a("vs-progress",{attrs:{percent:100,color:"danger"}}):a("vs-progress",{attrs:{indeterminate:"",color:"primary"}})],1):a("vs-td",{staticClass:"loading-table__status"},[n.tasks[i].completed?n.tasks[i].success?a("vs-icon",{attrs:{icon:"pet"}}):a("vs-icon",{attrs:{icon:"android"}}):a("vs-icon",{attrs:{icon:"polymer"}})],1)],1)}))}}],null,!1,939454026)})],1):e._e()])])},ha=[],ga=(a("dca8"),{statusTask:Object.freeze({pending:1,failed:2,completed:3}),ModesSpinner:Object.freeze({basic:1,progress:2,subTasks:3})}),ya={title:"Cargando Datos",text:"Cargando datos. Por favor, espere...",mode:ga.ModesSpinner.basic,color:"#1c313a",tasksConfig:{loadingBar:!1,tasks:[]}},va=a("b0ae"),ba=a("05c2"),Ca={components:{"sweet-modal":va["a"],"circle-loader":ba["CircleLoader"]},data:function(){return{mlBlocking:!0,mlHideCloseButton:!0,mlPulseOnBlock:!0,mlIcon:null,mlWidth:null,mlEnableMobileFullscreen:!1,mlOverlayTheme:"light",mlModalTheme:"light",spinnerConfig:ya,spinnerEnums:ga,mlActive:!1,calls:0}},computed:{mlTitle:function(){return this.spinnerConfig&&this.spinnerConfig.title?this.spinnerConfig.title:"Recopilando"},mlMode:function(){return this.spinnerConfig&&this.spinnerConfig.mode?this.spinnerConfig.mode:1},mlText:function(){return this.spinnerConfig&&this.spinnerConfig.text?this.spinnerConfig.text:"Preparando carga de datos. Por favor, espere..."},mlTasksConfig:function(){return this.spinnerConfig&&this.spinnerConfig.tasksConfig?this.spinnerConfig.tasksConfig:null},mlDisplayText:function(){return 1==this.mlMode?this.mlText:this._taskManagerDisplay()},mlSpinnerColor:function(){return this.spinnerConfig&&this.spinnerConfig.color?this.spinnerConfig.color:"#05346d"}},watch:{mlActive:function(){this.mlActive?this.$refs.loader.open&&this.$refs.loader.open():this.$refs.loader.close&&this.$refs.loader.close()}},methods:{configureModeSpinner:function(e){this.spinnerConfig.mode=e},show:function(){this.calls++,this.mlActive=!0},hide:function(){this.calls--,0==this.calls&&(this.mlActive=!1),0==this.calls&&this._clearTasks()},addTask:function(e,t){this.spinnerConfig.tasksConfig.tasks.push({id:this.spinnerConfig.tasksConfig.tasks.length+1,name:e,text:t,status:this.spinnerEnums.statusTask.pending})},updateTask:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=this.spinnerConfig.tasksConfig.tasks.findIndex((function(t){return t.name===e}));t&&(this.spinnerConfig.tasksConfig.tasks[n].status=t),a&&(this.spinnerConfig.tasksConfig.tasks[n].text=a)},_clearTasks:function(){this.mlTasksConfig.tasks=[]},_taskManagerDisplay:function(){var e=this,t=this.mlTasksConfig.tasks.find((function(t){return t.status===e.spinnerEnums.statusTask.pending}));return null==t?this.mlText:t.text}}},_a=Ca,Sa=(a("2e9c"),Object(B["a"])(_a,fa,ha,!1,null,"42b1e184",null)),La=Sa.exports,wa=a("331b"),ka=a.n(wa),Oa={data:function(){return Object(u["a"])({},ka.a)}},Ma=(a("8975"),a("fb9a")),Ta=a.n(Ma),Ea=(a("8fc0"),new n["default"](La).$mount());n["default"].prototype.$spinner=Ea,n["default"].prototype.$spinnerEnums=ga,document.body.appendChild(Ea.$el),n["default"].mixin(Oa),n["default"].config.productionTip=!1,n["default"].use(Ta.a,{theme:{colors:{primary:wa["primaryColor"]}}}),new n["default"]({store:ma,render:function(e){return e(sa)}}).$mount("#app")},"5fab":function(e,t,a){},7654:function(e,t,a){"use strict";a("bcff")},7762:function(e,t,a){"use strict";a("b2ea")},"7b13":function(e,t,a){e.exports=a.p+"img/RiosConCiencia.109d34aa.png"},8975:function(e,t){},"8b02":function(e,t,a){},"8d9a":function(e,t,a){e.exports=a.p+"img/ProyectoRios.6c9c72fb.png"},"8fc0":function(e,t,a){},9391:function(e,t,a){"use strict";a("320c")},"9a3f":function(e,t,a){},"9e35":function(e,t,a){"use strict";a("c83c")},b2ea:function(e,t,a){},bcff:function(e,t,a){},c416:function(e,t,a){"use strict";a("9a3f")},c83c:function(e,t,a){},ccf2:function(e,t,a){"use strict";a("3de0")},d127:function(e,t,a){e.exports=a.p+"img/download.5de6bb17.svg"},d4b0:function(e,t,a){e.exports=a.p+"img/about.bcc23f1d.svg"},dd3a:function(e,t,a){e.exports=a.p+"img/user.11fc63b1.svg"},e65d:function(e,t,a){e.exports=a.p+"img/LogoMinisterio-FECYT.6c7688b9.png"}});